{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
    <h2>Student List</h2>
    <hr>

    <a href="{% url 'student_add' %}" class="btn btn-success mb-3">+ Add Student</a>

    <table class="table table-bordered table-hover">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Username</th>
                <th>Email</th>
                <th>Roll No</th>
                <th>Department</th>
                <th>Year</th>
                <th width="140px">Actions</th>
            </tr>
        </thead>

        <tbody>
            {% for s in students %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ s.user.username }}</td>
                <td>{{ s.user.email }}</td>
                <td>{{ s.roll_number }}</td>
                <td>{{ s.department }}</td>
                <td>{{ s.year_of_admission }}</td>

                <td>
                    <a href="{% url 'student_edit' s.id %}" class="btn btn-sm btn-primary">Edit</a>
                    
                    <a href="{% url 'student_delete' s.id %}"
                       class="btn btn-sm btn-danger"
                       onclick="return confirm('Are you sure you want to delete this student?')">
                       Delete
                    </a>
                </td>
            </tr>

            {% empty %}
            <tr>
                <td colspan="7" class="text-center text-muted">
                    No students found.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
